require_relative '../minitest_helper'
require_relative 'test_display_string'

module ResponsiveConsole
  class TestLongArray < Minitest::Test
    include TestDisplayString

    def setup
      ArrayFormatter::FORMATS[:test] = "-- %E\n-- %E"
      @width = 100
      super
    end

    def test_nested_arrays
      assert_equal(subject_output(@nested_array), <<~TEXT.strip)
        -- -- "A___________________________"     -- "E_______________________________"
           -- "B____________________________"    -- "F________________________________"
           -- "C_____________________________"   -- "G_________________________________"
           -- "D______________________________"  -- "H___________________________"
        -- -- "I____________________________"     -- "M________________________________"
           -- "J_____________________________"    -- "N_________________________________"
           -- "K______________________________"   -- "O___________________________"
           -- "L_______________________________"  -- "P____________________________"
        -- -- "Q_____________________________"     -- "U_________________________________"
           -- "R______________________________"    -- "V___________________________"
           -- "S_______________________________"   -- "W____________________________"
           -- "T________________________________"  -- "X_____________________________"
      TEXT
    end

    def test_hashes_with_array_values
      assert_equal(subject_output(@array_values), <<~TEXT.strip)
        A___________________________:
          -- "B____________________________"     -- "F________________________________"
          -- "C_____________________________"    -- "G_________________________________"
          -- "D______________________________"   -- "H___________________________"
          -- "E_______________________________"
        I____________________________:
          -- "J_____________________________"     -- "N_________________________________"
          -- "K______________________________"    -- "O___________________________"
          -- "L_______________________________"   -- "P____________________________"
          -- "M________________________________"
        Q_____________________________:
          -- "R______________________________"     -- "V___________________________"
          -- "S_______________________________"    -- "W____________________________"
          -- "T________________________________"   -- "X_____________________________"
          -- "U_________________________________"
      TEXT
    end

    def test_hashes_with_array_keys
      assert_equal(subject_output(@array_keys), <<~TEXT.strip)
        -- "B____________________________"     -- "F________________________________"
        -- "C_____________________________"    -- "G_________________________________"
        -- "D______________________________"   -- "H___________________________"
        -- "E_______________________________":
          "A___________________________"
        -- "J_____________________________"     -- "N_________________________________"
        -- "K______________________________"    -- "O___________________________"
        -- "L_______________________________"   -- "P____________________________"
        -- "M________________________________":
          "I____________________________"
        -- "R______________________________"     -- "V___________________________"
        -- "S_______________________________"    -- "W____________________________"
        -- "T________________________________"   -- "X_____________________________"
        -- "U_________________________________":
          "Q_____________________________"
      TEXT
    end
  end
end
